{% extends 'base.html' %}
{% load i18n %}
{% load static %}
{% block stylesheet %}

    <link rel="stylesheet" href="{% static 'css/events/create_new_event.css' %}">
{% endblock %}
{% block title %}NTNUI - Create events{% endblock %}

{% block content %}

    <div class="container">
        <!-- SubEventModal -->
        <div class="modal fade"  tabindex="-1" role="dialog" aria-labelledby="subEvent-modal"
             aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">{% trans 'Please fill in the fields bellow' %}</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="container">
                        <form id="subEvent-data-form" onsubmit="return attendEventGuest()">
                            <div class="form-group">
                                <label>Name norwegian</label>
                                <input name="name_nb" type="text" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label>Name english </label>
                                <input name="name_en" type="text" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label>Email text norwegian</label>
                                <input name="email_nb" type="text" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label>Email text english </label>
                                <input name="email_en" type="text" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label>From date</label>
                                <input name="from_date" type="datetime-local" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label>To date</label>
                                <input id="phone" name="to_date" type="datetime-local" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label>Price</label>
                                <input name="price" type="number" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Maximum number of participants</label>
                                <input name="attandance_cap" type="number" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Registration end date</label>
                                <input name="registration_end_date" type="datetime-local" class="form-control">
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary"
                                data-dismiss="modal">{% trans 'Close' %}</button>
                        <button type="submit" form="subEvent-data-form" class="btn btn-success">
                            {% trans 'Create subEvent' %}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <h1 style="text-align: center">{% trans 'Create new event:' %}</h1>
    <form id="create-event-form" style="width:80%; max-width:1000px;">{% csrf_token %}

        <div class="form-row">
            <div class="form-group col-md-6">
                <label>{% trans 'Name norwegian' %}</label>
                <input class="form-input-create-event form-control" pattern="^[a-zA-ZæøåÆØÅ\-\s]*$"
                       type="text" name="name_no" required>
            </div>
            <div class="form-group col-md-6">
                <label>{% trans 'Name english' %}</label>
                <input class="form-input-create-event form-control" pattern="^[a-zA-Z\-\s]*$"
                       type="text" name="name_en" required>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-6">
                <label>{% trans 'Description norwegian' %}</label>
                <textarea class="form-input-create-event form-control" type="textArea"
                          name="description_text_no" required></textarea>
            </div>

            <div class="form-group col-md-6">
                <label>{% trans 'Description english' %}</label>
                <textarea class="form-input-create-event form-control" type="textArea"
                          name="description_text_en" required></textarea>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label>{% trans 'Email text norwegian' %}</label>
                <textarea class="form-input-create-event form-control" type="textArea"
                          name="email_text_no" required></textarea>
            </div>
            <div class="form-group col-md-6">
                <label>{% trans 'Email text english' %}</label>
                <textarea class="form-input-create-event form-control" type="textArea"
                          name="email_text_en" required></textarea>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label>{% trans 'From date' %}</label>
                <div>
                    <input id="start-date" class="form-input-create-event form-control" type="datetime-local"
                           name="start_date" required>
                </div>
            </div>

            <div class="form-group col-md-6">
                <label>{% trans 'To date' %}</label>
                <input id="end-date" class="form-input-create-event form-control" type="datetime-local"
                       name="end_date" required>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label>{% trans 'Maximum number of participants' %}</label>
                <input class="form-input-create-event form-control" type="number"
                       name="attendance_cap">
            </div>
            <div class="form-group col-md-6">
                <label>{% trans 'Price in NOK' %}</label>
                <input class="form-input-create-event form-control" type="number"
                       name="price">
            </div>
        </div>
        <div class="form-group row">
            <div class="form-group col-md-6">
                <label>{% trans 'Host' %}</label>
                <select class="form-control" name="host" required>
                    {% for group in groups %}
                        <option value="{{ group.id }}">{{ group.name }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
        <div class="form-group row">
            <div style="width:100%; display:flex; align-content:center; justify-content: center;">
                <button id="add-subEvent-button" type="button" style="margin:0;"
                        class="btn btn-success">{% trans 'Add subEvent' %}</button>
            </div>
        </div>
        <div class="form-group row">
            <div style="width:100%; display:flex; align-content:center; justify-content: center;">
                <button id="create-event-button" type="button" style="margin:0;"
                        class="btn btn-success">{% trans 'Create event' %}</button>
            </div>
        </div>
    </form>

{% endblock %}


{% block script %}
    <script type="text/javascript" src="{% url 'javascript-catalog' %}"></script>
    <script type="text/javascript" src="{% static 'js/events/create_new_event.js' %}"></script>
{% endblock %}